\chapter[Background information]{Background information} \label{ch:background}

\section{Introduction} \label{sec:intro_background}

%TODO add chapter introduction

\section{Complexity of urban systems, "wicked" problems and data} \label{sec:complexity_and_wicked_problems_and_data}

In her famous 1961 book, Jane Jacobs\cite{Jacobs1961} described a city as "a problem in organized complexity";
since then, many other researchers have remarked that urban systems exhibit complex behaviour\cite{Batty2008, Bettencourt2013}.
Complexity of a system can be defined as a state or quality of being intricate or complicated.
For a system to be complex is not necessarily the same as to be complicated;
complex systems can be simple, i.e.\ governed by a single equation.
Complexity of a system has to do with the intrinsic ability of a system to surprise us with its behaviour;
that the system is hard to understand, despite the mechanics of it being relatively simple.

In 1973, a little over a decade after Jacobs, Rittel and Webber\cite{Rittel1973} presented a path-breaking conceptualization;
this conceptualization characterized urban planning problems as "wicked" problems: problems which cannot be definitively described and for which it makes no sense to talk of "optimal solutions".
More than 40 years after their original publication, Rittel and Webber's ideas remain relevant to the policy sciences today: there is an intense interest in the nature of "wicked" problems and the complex tasks of identifying their scope, viable responses, and appropriate mechanisms and pathways to improvement\cite{Crowley2017}.
In their paper, Rittel and Webber stated that such "wicked" problems are never "solved", and that the focus instead becomes on iteratively "re-solving" the problems over and over.

%TODO: rewrite paragraph
This approach resembles the methodologies typically employed for data science projects, where the sequence of steps is iterated over, producing a more meaningful solution on each iteration of the cycle, as defined by such process models as CRISP-DM\cite{Shearer2000}.
This makes data science methodologies a natural fit when trying to get a deeper understanding of the nature of "wicked" urban problems, such as the interaction between land development, urban form, and transportation.

In addition to that, an increasing amount of aspects of human life becomes digitalized, producing a wealth of data that can be used to model and analyze dynamics of urban systems\cite{Arribas-Bel2014, Chen2016}.
An example of such digitalization of human activity is the introduction of the Province of Ontario Land Registration Information System (POLARIS) in 1985 by the Government of Ontario\cite{TeranetEnterprisesInc.}.
This lead to the creation of an extensive dataset of real estate transactions by Teranet Enterprises Inc.
that offers a very fine resolution of housing market data across both time and space, but also presents challenges discussed in section~\ref{sec:challenges}.
To address these challenges, an efficient and modular Python workflow and a relational database for GTHA housing market are introduced with this master's thesis.

\section{Land Use and Transport (LUT) models} \label{sec:evolution_of_models_of_urban_systems}

\subsection{Transportation-land use cycle} \label{subsec:transportation_urban_form_real_estate_data}

Bourne\cite{Bourne1982} defines urban structure as the combination of the following elements:
\begin{itemize}
    \item urban form, or the spatial configuration of fixed elements within the urban region (including land use, buildings, transportation network, etc.)
    \item urban interactions, or the flows of goods, people, information, and money (including commercial activity, real estate market, etc.)
    \item organizing principles, or the relationships between the urban form and interactions (such as travel cost minimization, social status, segregation, etc.)
\end{itemize}
There is a fundamental link between transportation and urban form;
thus, the nature of development of urban areas directly determines such aspects as travel needs, viability of alternative modes, etc.
Transportation, in turn, influences land development and location choices of people and firms\cite{Miller1999}.
This relationship is sometimes referred to as the transportation-land use "link" or "cycle", emphasising a feedback relationship\cite{Kelly}.
As such, the study of interaction between real estate, urban form, and transportation presents opportunities in uncovering the dynamics of urban processes.
One of the possible ways of studying these dynamics is empirical, such as examining how property values vary with distance to transportation facility\cite{Sherry1999}.

\subsection{Approaches to model interaction between transportation and land use} \label{subsec:approaches}

The history of treating cities as systems via simulation models of transportation and land use dates back to 1950s\cite{Batty2008}.
Iacono et al.
\cite{Iacono2008} provide an overview of some of the most common frameworks of Land Use and Transport (LUT) models that have been used to model interaction between transportation and land use in urbanized regions.
Despite the difficulty of modelling of every relevant aspect of an urban region, a wide variety of models were produced dealing with the relationship between transportation network growth and changes in land use and the location of economic activity.
The frameworks can broadly be broken into two major approaches to modelling interactions between land use and transport:
\begin{itemize}
    \item "top-down" modeling frameworks, where interaction between transportation networks and location is specified as a set of aggregate relationships.
    These relationships are based on the behaviour of a representative individual, and are usually taken as a mean calculated from a representative sample of the population.
    \item "bottom-up" microsimulation models, which cover a number of different approaches to representing the dynamics of land use change and travel behaviour through disaggregating the population and simulating the changes.
    These models include:
    \begin{itemize}
        \item activity-based travel models
        \item multi-agent models
        \item cell-based models
    \end{itemize}
\end{itemize}

\subsection{Evolution of LUT models} \label{subsec:evolution_of_lut_models}
%TODO add a section on evolution of LUT models

\subsection{ILUTE model system} \label{subsec:ilute}

\textit{ILUTE is a comprehensive, integrated model system designed to project the evolution of demographics, land use and travel within an urban region over time.
The ILUTE (Integrated Land Use, Transportation, Environment) model system is an agent-based microsimulation model for the Greater Toronto-Hamilton Area (GTHA) in which disaggregate, process-based models of spatial socio-economic processes are used to evolve the GTHA system state from a known base case to a predicted future year end state in one-year time steps.
The system state is defined in terms of the individual persons, households, dwelling units, firms, etc.
that collectively define the urban region being modeled.
The housing market component of ILUTE evolves the residential location of households over time.
It includes the endogenous supply of housing by type and location, as well as the endogenous determination of sales prices and rents.}\cite{Miller2010}
%TODO finish description of ILUTE

\subsection{Accessibility as a measure of land use-transportation relationship} \label{subsec:accessibility}

LUT models operationalize the transportation-land use relationship by incorporating measures of accessibility with the process of locating activities, typically assuming that households wish to locate in areas with higher accessibility to employment, shopping, or entertainment opportunities.
Similarly, firms are assumed to locate in areas with higher accessibility to labour markets.
Accessibility measures the situation of a location relative to other activities or opportunities (work, shopping, etc.) distributed in space\cite{Iacono2008}.
When measuring changes in relative accessibility, it is usually approximated by some measure of access to the transportation network, such as travel time or distance.

Land use component is usually integrated into the accessibility measure through congested network travel times.
However, when studying the relationship between transportation facilities and property values, results may vary based on whether travel time or travel distance is used as a measure of accessibility\cite{Sherry1999}.
To simulate the changes in accessibility, metropolitan regions are usually broken down into a set of small geographic zones, similar (or in many cases identical) to the set of zones used for regional travel forecasting.
Changes to relative accessibility of a location can thus be estimated as changes in zone-to-zone travel times in a travel network\cite{Iacono2008}.

\section{System of land registration in Canada, POLARIS and Teranet} \label{sec:system_of_land_registration_polaris_teranet}

\subsection{System of land registration in Canada} \label{subsec:land_reg_system_canada}

According to Chapter 6 of the International Comparative Legal Guide to Real Estate published by the Global Legal Group in 2015\cite{McKean2015}, all land owned in Canada is registered in a public land registry through either a registry system, a land titles system or a combination of both in the applicable province.
The registry system is a public record of documents evidencing transactions affecting land.
In the land titles system, the applicable provincial government determines the quality of the title, and essentially guarantees (within certain important statutory limits) the title to, and interests in, the property.
As of 2015, most common law provinces and territories were using the land titles system or were in the process of converting title from a registry system to a land titles system.

On the purchase and sale of real estate and land, ownership is generally transferred to the buyer when the deed or transfer is registered in the applicable land registry office.
An agreement of purchase and sale must be in writing to be enforceable.
A transfer of ownership is actualised by registering, either physically or electronically (depending on the applicable land registry system), a deed or transfer with the applicable land registry office or land registrar, copies of which can be obtained from the relevant registry office, often electronically.

\subsection{POLARIS: Land registration system of Ontario} \label{subsec:lang_reg_operating_canada}

Each province and territory in Canada has its own land registry system, whether it is a land titles system, a registry system or a combination of both, with each system having its own rules.
As of 2015, the Province of Ontario has largely converted from registry systems to a land titles system.

In 1985, the Government of Ontario initiated the Province of Ontario Land Registration Information System (POLARIS) pilot project for the purposes of records automation and the conversion from the Registry System to the Land Titles System.
The Land Registration Reform Act (Ontario)\cite{TheGovernmentofOntario1990} was introduced in 1990 to facilitate electronic search and registration of properties and the automation of paper-based records.

POLARIS was built by the Province to house and process electronic land records, which in turn lead to the creation of an extensive dataset of land registration records managed by Teranet Enterprises Inc.
Today, POLARIS is the search/registration and property maintenance system for all automated land records in Ontario.

\subsection{The Teranet-Ontario Partnership} \label{subsec:teranet_ontario}

In 1991, the Government of Ontario established a partnership with Teranet\cite{TeranetEnterprisesInc.2019}, a Toronto-based organization, founded the same year, which provides e-services to legal, real estate, government, financial, and healthcare markets.
The partnership was established to convert Ontario's land registration system to a more modernized electronic title system.
The project involved taking a 200-year-old paper-based system and creating a database with electronic records for more than five million parcels of land.

Teranet converted all qualified Registry properties in Ontario to the Land Titles system and automated existing paper Land Titles parcels.
As a result, 99.9\% of property in Ontario was parcelized and administered under the Land Titles system, which affords a property ownership guarantee by the province.
Teranet fully automated the conversion of millions of paper-based documents and records into the Ontario Electronic Land Registration System (ELRS).

In December 2010, the Government of Ontario extended its exclusive relationship with Teranet by 50 years.
Today, Teranet is the exclusive provider of Ontario's online property search and registration;
it developed, owns and operates the ELRS, and also provides online access to Ontario's Writs System.

\section{Challenges of using Teranet's data and proposed solution} \label{sec:challenges}

\subsection{Data quality, skill requirements and lack of features} \label{subsec:challenges_quality_skills_features}

Teranet dataset presents an extensive historical record of real estate transactions recorded in the Province of Ontario since the beginning of XIX century.
However, when it comes to using new data sources in social studies, along with opportunities there are also challenges present.
For example, these data sources can have issues with the quality of the data, might require a specific set of skills to take advantage of these data sources, or might not be suitable for traditional methods meant for traditional data\cite{Arribas-Bel2014}, all of which are true in the case of Teranet's dataset.

On top of the issues with Teranet's data mentioned above, the most significant challenge lies in the amount of features provided for each record.
Despite capturing effectively the complete population of real estate transactions recorded in Ontario since 1985, the available version of the dataset includes no information describing anything about each transaction, other than its location in the form of address and coordinates, the registration date, and the consideration amount.
Since is no distinction being made between transactions recorded for residential, commercial, and industrial property types, transaction amounts can vary from several dollars to billions of dollars.
There are no attributes that would allow transactions to be filtered for meaningful analysis and modeling.

\subsection{Size of datasets and file formats} \label{subsec:challenges_size_and_formats}

To address this gap, additional attributes can be joined from various data sources, such as Census, TTS or land use data, based on spatial or temporal relationships.
However, Teranet's dataset has a number of records on the order of $10^6$.
Such data sources as Census tables have the number of fields on the order of $10^2$.
Overall, the number of attributes that could be joined between the various available data sources will probably be on the order of $10^3$.
This fact makes it increasingly impractical to store all the data in one table, due to the memory requirements for storage and processing.

In addition, datasets coming from different sources arrive in different file formats, such as text files, Excel spreadsheets, .csv files, or shapefiles.
Combined with the size of the datasets and the computational requirements of such processing techniques as spatial joins, the facts mentioned above make working with Teranet's difficult due to the hardware and special skill requirements.

\subsection{Proposed solution: Python-SQL back-end} \label{subsec:proposed_solution_python_sql_backend}

To address this challenge, this master's thesis establishes an organized modular data preparation workflow for Teranet's dataset and other related data sources and organized them into a relational database.
A Relational Database Management System (RDBMS), such as PostgreSQL, will deliver the benefit of organized and optimized data storage, access, and processing;
it is also capable of facilitating the flexibility and modular structure that is dictated by the nature of the data sources and the scope of research activities undertaken by UTTRI .
The data preparation workflow is facilitated via Python in a series of jupyter notebooks described in section \textbf{cite}

\section{Chapter summary} \label{sec:background_summary}
There is a bunch of different data that can help urban research efforts, but it requires special spatial and temporal joining and organization, so we need a database.
%TODO finish chapter summary
